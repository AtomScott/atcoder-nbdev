---

title: Title


keywords: fastai
sidebar: home_sidebar



nb_path: "competition_notebook/Atom/abc175/abc175.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: competition_notebook/Atom/abc175/abc175.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 style='text-align: center'>abc175</h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="A---Rainy-Season">A - Rainy Season<a class="anchor-link" href="#A---Rainy-Season"> </a></h2><hr>
<p>配点 : $100$ 点</p>
<h3 id="&#21839;&#38988;&#25991;">&#21839;&#38988;&#25991;<a class="anchor-link" href="#&#21839;&#38988;&#25991;"> </a></h3><p>AtCoder 町の、ある連続した $3$ 日間の天気の記録があります。天気の記録は長さ $3$ の文字列 $S$ で表され、$i (1 \leq i \leq 3)$ 日目の天気は $i$ 文字目が <code>S</code> のとき晴れ、<code>R</code> のとき雨でした。</p>
<p>天気が雨である日が連続していた最大の日数を求めてください。</p>
<h3 id="&#21046;&#32004;">&#21046;&#32004;<a class="anchor-link" href="#&#21046;&#32004;"> </a></h3><ul>
<li>$|S| = 3$</li>
<li>$S$ の各文字は <code>S</code> または <code>R</code> である</li>
</ul>
<hr>
<h3 id="&#20837;&#21147;">&#20837;&#21147;<a class="anchor-link" href="#&#20837;&#21147;"> </a></h3><p>入力は以下の形式で標準入力から与えられる。</p>

<pre><code>$S$</code></pre>
<h3 id="&#20986;&#21147;">&#20986;&#21147;<a class="anchor-link" href="#&#20986;&#21147;"> </a></h3><p>天気が雨である日が連続していた最大の日数を出力せよ。</p>
<hr>
<h3 id="&#20837;&#21147;&#20363;-1">&#20837;&#21147;&#20363; 1<a class="anchor-link" href="#&#20837;&#21147;&#20363;-1"> </a></h3>
<pre><code>RRS</code></pre>
<h3 id="&#20986;&#21147;&#20363;-1">&#20986;&#21147;&#20363; 1<a class="anchor-link" href="#&#20986;&#21147;&#20363;-1"> </a></h3>
<pre><code>2</code></pre>
<p>$3$ 日間のうち、$1, 2$ 日目が雨で、最大では $2$ 日間雨である日が連続していたので $2$ を出力してください。</p>
<hr>
<h3 id="&#20837;&#21147;&#20363;-2">&#20837;&#21147;&#20363; 2<a class="anchor-link" href="#&#20837;&#21147;&#20363;-2"> </a></h3>
<pre><code>SSS</code></pre>
<h3 id="&#20986;&#21147;&#20363;-2">&#20986;&#21147;&#20363; 2<a class="anchor-link" href="#&#20986;&#21147;&#20363;-2"> </a></h3>
<pre><code>0</code></pre>
<p>$3$ 日間のうち、$3$ 日とも晴れでした。雨である日は無かったため、$0$ を出力してください。</p>
<hr>
<h3 id="&#20837;&#21147;&#20363;-3">&#20837;&#21147;&#20363; 3<a class="anchor-link" href="#&#20837;&#21147;&#20363;-3"> </a></h3>
<pre><code>RSR</code></pre>
<h3 id="&#20986;&#21147;&#20363;-3">&#20986;&#21147;&#20363; 3<a class="anchor-link" href="#&#20986;&#21147;&#20363;-3"> </a></h3>
<pre><code>1</code></pre>
<p>$3$ 日間のうち、$1, 3$ 日目が雨でした。共に $1$ 日雨である日が連続していたので、$1$ を出力してください。</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%writefile</span> A/main.py
<span class="ch">#!/usr/bin/env python3</span>
<span class="kn">import</span> <span class="nn">sys</span>


<span class="k">def</span> <span class="nf">solve</span><span class="p">(</span><span class="n">S</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;S&#39;</span><span class="p">))))</span>
    <span class="k">return</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">def</span> <span class="nf">iterate_tokens</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdin</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">():</span>
                <span class="k">yield</span> <span class="n">word</span>
    <span class="n">tokens</span> <span class="o">=</span> <span class="n">iterate_tokens</span><span class="p">()</span>
    <span class="n">S</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span>  <span class="c1"># type: str</span>
    <span class="n">solve</span><span class="p">(</span><span class="n">S</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Overwriting A/main.py
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>atcoder-tools <span class="nb">test</span> -d A -e A/main.py
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre># in_1.txt ... <span class="ansi-green-intense-fg">PASSED</span> 30 ms
# in_2.txt ... <span class="ansi-green-intense-fg">PASSED</span> 30 ms
# in_3.txt ... <span class="ansi-green-intense-fg">PASSED</span> 27 ms
<span class="ansi-green-intense-fg">Passed all test cases!!!</span>
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>atcoder-tools submit -u -d A -e A/main.py
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>2021-03-27 06:19:46,433 INFO: Loaded session from /home/me/.local/share/atcoder-tools/cookie.txt
2021-03-27 06:19:46,724 INFO: Successfully Logged in using the previous session cache.
2021-03-27 06:19:46,724 INFO: If you&#39;d like to invalidate the cache, delete /home/me/.local/share/atcoder-tools/cookie.txt.
# in_1.txt ... <span class="ansi-green-intense-fg">PASSED</span> 33 ms
# in_2.txt ... <span class="ansi-green-intense-fg">PASSED</span> 30 ms
# in_3.txt ... <span class="ansi-green-intense-fg">PASSED</span> 41 ms
<span class="ansi-green-intense-fg">Passed all test cases!!!</span>
2021-03-27 06:19:47,196 INFO: Submitting A/main.py as python
2021-03-27 06:19:47,694 INFO: <span class="ansi-green-intense-fg">Done!</span> https://atcoder.jp/contests/abc175/submissions/21273656
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="B---Making-Triangle">B - Making Triangle<a class="anchor-link" href="#B---Making-Triangle"> </a></h2><hr>
<p>配点 : $200$ 点</p>
<h3 id="&#21839;&#38988;&#25991;">&#21839;&#38988;&#25991;<a class="anchor-link" href="#&#21839;&#38988;&#25991;"> </a></h3><p>$1, \cdots, N$ の番号がついた $N$ 本の棒があります。棒 $i (1 \leq i \leq N)$ の長さは $L_i$ です。</p>
<p>このうち、三角形を作ることのできるような長さの異なる $3$ 本の棒を選ぶ方法は何通りあるでしょうか。</p>
<p>つまり、$3$ つの整数 $1 \leq i &amp;lt; j &amp;lt; k \leq N$ の組であって次の $2$ つの条件の両方を満たすものの個数を求めてください。</p>
<ul>
<li>$L_i, L_j, L_k$ がすべて異なる</li>
<li>$3$ 辺の長さが $L_i, L_j, L_k$ であるような三角形が存在する</li>
</ul>
<h3 id="&#21046;&#32004;">&#21046;&#32004;<a class="anchor-link" href="#&#21046;&#32004;"> </a></h3><ul>
<li>$1 \leq N \leq 100$</li>
<li>$1 \leq L_i \leq 10^9$</li>
<li>入力は全て整数である</li>
</ul>
<hr>
<h3 id="&#20837;&#21147;">&#20837;&#21147;<a class="anchor-link" href="#&#20837;&#21147;"> </a></h3><p>入力は以下の形式で標準入力から与えられる。</p>

<pre><code>$N$
$L_1$ $L_2$ $\cdots$ $L_N$</code></pre>
<h3 id="&#20986;&#21147;">&#20986;&#21147;<a class="anchor-link" href="#&#20986;&#21147;"> </a></h3><p>三角形を作ることのできるような、長さの異なる $3$ 本の棒を選ぶ方法の個数を出力せよ。</p>
<hr>
<h3 id="&#20837;&#21147;&#20363;-1">&#20837;&#21147;&#20363; 1<a class="anchor-link" href="#&#20837;&#21147;&#20363;-1"> </a></h3>
<pre><code>5
4 4 9 7 5</code></pre>
<h3 id="&#20986;&#21147;&#20363;-1">&#20986;&#21147;&#20363; 1<a class="anchor-link" href="#&#20986;&#21147;&#20363;-1"> </a></h3>
<pre><code>5</code></pre>
<p>条件を満たすような $(i, j, k)$ は、$(1, 3, 4), (1, 4, 5), (2, 3, 4), (2, 4, 5), (3, 4, 5)$ の $5$ 個があります。</p>
<hr>
<h3 id="&#20837;&#21147;&#20363;-2">&#20837;&#21147;&#20363; 2<a class="anchor-link" href="#&#20837;&#21147;&#20363;-2"> </a></h3>
<pre><code>6
4 5 4 3 3 5</code></pre>
<h3 id="&#20986;&#21147;&#20363;-2">&#20986;&#21147;&#20363; 2<a class="anchor-link" href="#&#20986;&#21147;&#20363;-2"> </a></h3>
<pre><code>8</code></pre>
<p>長さ $3, 4, 5$ の棒が $2$ 本ずつあります。$1$ つ目の条件を満たすためにはそれぞれから $1$ 本ずつ選ぶしかありません。</p>
<p>$3$ 辺の長さが $3, 4, 5$ の三角形は存在するので、条件を満たすような $(i, j, k)$ は $2 ^ 3 = 8$ 個あります。</p>
<hr>
<h3 id="&#20837;&#21147;&#20363;-3">&#20837;&#21147;&#20363; 3<a class="anchor-link" href="#&#20837;&#21147;&#20363;-3"> </a></h3>
<pre><code>10
9 4 6 1 9 6 10 6 6 8</code></pre>
<h3 id="&#20986;&#21147;&#20363;-3">&#20986;&#21147;&#20363; 3<a class="anchor-link" href="#&#20986;&#21147;&#20363;-3"> </a></h3>
<pre><code>39</code></pre>
<hr>
<h3 id="&#20837;&#21147;&#20363;-4">&#20837;&#21147;&#20363; 4<a class="anchor-link" href="#&#20837;&#21147;&#20363;-4"> </a></h3>
<pre><code>2
1 1</code></pre>
<h3 id="&#20986;&#21147;&#20363;-4">&#20986;&#21147;&#20363; 4<a class="anchor-link" href="#&#20986;&#21147;&#20363;-4"> </a></h3>
<pre><code>0</code></pre>
<p>$1 \leq i &amp;lt; j &amp;lt; k \leq N$ を満たす $(i, j, k)$ が存在しないので、$0$ を出力してください。</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%writefile</span> B/main.py
<span class="ch">#!/usr/bin/env python3</span>
<span class="kn">import</span> <span class="nn">sys</span>


<span class="k">def</span> <span class="nf">solve</span><span class="p">(</span><span class="n">N</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">L</span><span class="p">:</span> <span class="s2">&quot;List[int]&quot;</span><span class="p">):</span>
    <span class="k">return</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">def</span> <span class="nf">iterate_tokens</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdin</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">():</span>
                <span class="k">yield</span> <span class="n">word</span>
    <span class="n">tokens</span> <span class="o">=</span> <span class="n">iterate_tokens</span><span class="p">()</span>
    <span class="n">N</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">tokens</span><span class="p">))</span>  <span class="c1"># type: int</span>
    <span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">tokens</span><span class="p">))</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">)]</span>  <span class="c1"># type: &quot;List[int]&quot;</span>
    <span class="n">solve</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="n">L</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>atcoder-tools <span class="nb">test</span> -d B -e B/main.py
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>atcoder-tools submit -u -d B -e B/main.py
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="C---Walking-Takahashi">C - Walking Takahashi<a class="anchor-link" href="#C---Walking-Takahashi"> </a></h2><hr>
<p>配点 : $300$ 点</p>
<h3 id="&#21839;&#38988;&#25991;">&#21839;&#38988;&#25991;<a class="anchor-link" href="#&#21839;&#38988;&#25991;"> </a></h3><p>数直線上で暮らす高橋君は、今座標 $X$ にいます。これから高橋君はちょうど $K$ 回、座標の正または負の方向に $D$ 移動する行為を繰り返そうと考えています。</p>
<p>より正確には、$1$ 回の移動では 座標 $x$ から $x + D$ または $x - D$ に移動できます。</p>
<p>高橋君は、ちょうど $K$ 回移動した後にいる座標の絶対値が最小となるように移動したいです。</p>
<p>$K$ 回の移動後の座標の絶対値としてあり得る値の最小値を求めてください。</p>
<h3 id="&#21046;&#32004;">&#21046;&#32004;<a class="anchor-link" href="#&#21046;&#32004;"> </a></h3><ul>
<li>$-10^{15} \leq X \leq 10^{15}$</li>
<li>$1 \leq K \leq 10^{15}$</li>
<li>$1 \leq D \leq 10^{15}$</li>
<li>入力は全て整数である</li>
</ul>
<hr>
<h3 id="&#20837;&#21147;">&#20837;&#21147;<a class="anchor-link" href="#&#20837;&#21147;"> </a></h3><p>入力は以下の形式で標準入力から与えられる。</p>

<pre><code>$X$ $K$ $D$</code></pre>
<h3 id="&#20986;&#21147;">&#20986;&#21147;<a class="anchor-link" href="#&#20986;&#21147;"> </a></h3><p>$K$ 回の移動後の座標の絶対値としてあり得る値の最小値を出力せよ。</p>
<hr>
<h3 id="&#20837;&#21147;&#20363;-1">&#20837;&#21147;&#20363; 1<a class="anchor-link" href="#&#20837;&#21147;&#20363;-1"> </a></h3>
<pre><code>6 2 4</code></pre>
<h3 id="&#20986;&#21147;&#20363;-1">&#20986;&#21147;&#20363; 1<a class="anchor-link" href="#&#20986;&#21147;&#20363;-1"> </a></h3>
<pre><code>2</code></pre>
<p>高橋君は、今座標 $6$ にいます。次のように移動するのが最適です。</p>
<ul>
<li>$6$ から ($6 - 4 =$) $2$ に移動する。</li>
<li>$2$ から ($2 - 4 =$) $-2$ に移動する。</li>
</ul>
<p>移動後の座標の絶対値は $2$ で、これより小さくすることはできません。</p>
<hr>
<h3 id="&#20837;&#21147;&#20363;-2">&#20837;&#21147;&#20363; 2<a class="anchor-link" href="#&#20837;&#21147;&#20363;-2"> </a></h3>
<pre><code>7 4 3</code></pre>
<h3 id="&#20986;&#21147;&#20363;-2">&#20986;&#21147;&#20363; 2<a class="anchor-link" href="#&#20986;&#21147;&#20363;-2"> </a></h3>
<pre><code>1</code></pre>
<p>高橋君は、今座標 $7$ にいます。例えば次のように移動するのが最適です。</p>
<ul>
<li>$7$ から $4$ に移動する。</li>
<li>$4$ から $7$ に移動する。</li>
<li>$7$ から $4$ に移動する。</li>
<li>$4$ から $1$ に移動する。</li>
</ul>
<p>移動後の座標の絶対値は $1$ で、これより小さくすることはできません。</p>
<hr>
<h3 id="&#20837;&#21147;&#20363;-3">&#20837;&#21147;&#20363; 3<a class="anchor-link" href="#&#20837;&#21147;&#20363;-3"> </a></h3>
<pre><code>10 1 2</code></pre>
<h3 id="&#20986;&#21147;&#20363;-3">&#20986;&#21147;&#20363; 3<a class="anchor-link" href="#&#20986;&#21147;&#20363;-3"> </a></h3>
<pre><code>8</code></pre>
<hr>
<h3 id="&#20837;&#21147;&#20363;-4">&#20837;&#21147;&#20363; 4<a class="anchor-link" href="#&#20837;&#21147;&#20363;-4"> </a></h3>
<pre><code>1000000000000000 1000000000000000 1000000000000000</code></pre>
<h3 id="&#20986;&#21147;&#20363;-4">&#20986;&#21147;&#20363; 4<a class="anchor-link" href="#&#20986;&#21147;&#20363;-4"> </a></h3>
<pre><code>1000000000000000</code></pre>
<p>答えは非常に大きな値になる場合もあります。</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%writefile</span> C/main.py
<span class="ch">#!/usr/bin/env python3</span>
<span class="kn">import</span> <span class="nn">sys</span>


<span class="k">def</span> <span class="nf">solve</span><span class="p">(</span><span class="n">X</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">K</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">D</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
    <span class="k">return</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">def</span> <span class="nf">iterate_tokens</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdin</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">():</span>
                <span class="k">yield</span> <span class="n">word</span>
    <span class="n">tokens</span> <span class="o">=</span> <span class="n">iterate_tokens</span><span class="p">()</span>
    <span class="n">X</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">tokens</span><span class="p">))</span>  <span class="c1"># type: int</span>
    <span class="n">K</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">tokens</span><span class="p">))</span>  <span class="c1"># type: int</span>
    <span class="n">D</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">tokens</span><span class="p">))</span>  <span class="c1"># type: int</span>
    <span class="n">solve</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">K</span><span class="p">,</span> <span class="n">D</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>atcoder-tools <span class="nb">test</span> -d C -e C/main.py
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>atcoder-tools submit -u -d C -e C/main.py
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="D---Moving-Piece">D - Moving Piece<a class="anchor-link" href="#D---Moving-Piece"> </a></h2><hr>
<p>配点 : $400$ 点</p>
<h3 id="&#21839;&#38988;&#25991;">&#21839;&#38988;&#25991;<a class="anchor-link" href="#&#21839;&#38988;&#25991;"> </a></h3><p>高橋君は $1, 2, \cdots, N$ の番号のついた $N$ マスから成るマス目の上で、コマを使ってゲームを行おうとしています。マス $i$ には整数 $C_i$ が書かれています。また、$1, 2 …, N$ の順列 $P_1, P_2, \cdots, P_N$ が与えられています。</p>
<p>これから高橋君は好きなマスを $1$ つ選んでコマを $1$ つ置き、$1$ 回以上 $K$ 回以下の好きな回数だけ、次のような方法でコマを移動させます。</p>
<ul>
<li>$1$ 回の移動では、現在コマがマス $i (1 \leq i \leq N)$ にあるなら、コマをマス $P_i$ に移動させる。このとき、スコアに $C_{P_i}$ が加算される。</li>
</ul>
<p>高橋君のために、ゲーム終了時のスコアとしてあり得る値の最大値を求めてください。(ゲーム開始時のスコアは $0$ です。)</p>
<h3 id="&#21046;&#32004;">&#21046;&#32004;<a class="anchor-link" href="#&#21046;&#32004;"> </a></h3><ul>
<li>$2 \leq N \leq 5000$</li>
<li>$1 \leq K \leq 10^9$</li>
<li>$1 \leq P_i \leq N$</li>
<li>$P_i \neq i$</li>
<li>$P_1, P_2, \cdots, P_N$ は全て異なる</li>
<li>$-10^9 \leq C_i \leq 10^9$</li>
<li>入力は全て整数である</li>
</ul>
<hr>
<h3 id="&#20837;&#21147;">&#20837;&#21147;<a class="anchor-link" href="#&#20837;&#21147;"> </a></h3><p>入力は以下の形式で標準入力から与えられる。</p>

<pre><code>$N$ $K$
$P_1$ $P_2$ $\cdots$ $P_N$
$C_1$ $C_2$ $\cdots$ $C_N$</code></pre>
<h3 id="&#20986;&#21147;">&#20986;&#21147;<a class="anchor-link" href="#&#20986;&#21147;"> </a></h3><p>ゲーム終了時のスコアとしてあり得る値の最大値を出力せよ。</p>
<hr>
<h3 id="&#20837;&#21147;&#20363;-1">&#20837;&#21147;&#20363; 1<a class="anchor-link" href="#&#20837;&#21147;&#20363;-1"> </a></h3>
<pre><code>5 2
2 4 5 1 3
3 4 -10 -8 8</code></pre>
<h3 id="&#20986;&#21147;&#20363;-1">&#20986;&#21147;&#20363; 1<a class="anchor-link" href="#&#20986;&#21147;&#20363;-1"> </a></h3>
<pre><code>8</code></pre>
<p>好きなマスから始めて $2$ 回以下コマを移動させる方法は以下の通りです。</p>
<ul>
<li>初めマス $1$ にコマを置く場合。$1$ 回移動するとマス $2$ に動き、スコアが $4$ になる。$2$ 回移動するとマス $4$ に動き、スコアが $4 + (-8) = -4$ になる。</li>
<li>初めマス $2$ にコマを置く場合。$1$ 回移動するとマス $4$ に動き、スコアが $-8$ になる。$2$ 回移動するとマス $1$ に動き、スコアが $-8 + 3 = -5$ になる。</li>
<li>初めマス $3$ にコマを置く場合。$1$ 回移動するとマス $5$ に動き、スコアが $8$ になる。$2$ 回移動するとマス $3$ に動き、スコアが $8 + (-10) = -2$ になる。</li>
<li>初めマス $4$ にコマを置く場合。$1$ 回移動するとマス $1$ に動き、スコアが $3$ になる。$2$ 回移動するとマス $2$ に動き、スコアが $3 + 4 = 7$ になる。</li>
<li>初めマス $5$ にコマを置く場合。$1$ 回移動するとマス $3$ に動き、スコアが $-10$ になる。$2$ 回移動するとマス $5$ に動き、スコアが $-10 + 8 = -2$ になる。</li>
</ul>
<p>これらの最大値は $8$ です。</p>
<hr>
<h3 id="&#20837;&#21147;&#20363;-2">&#20837;&#21147;&#20363; 2<a class="anchor-link" href="#&#20837;&#21147;&#20363;-2"> </a></h3>
<pre><code>2 3
2 1
10 -7</code></pre>
<h3 id="&#20986;&#21147;&#20363;-2">&#20986;&#21147;&#20363; 2<a class="anchor-link" href="#&#20986;&#21147;&#20363;-2"> </a></h3>
<pre><code>13</code></pre>
<hr>
<h3 id="&#20837;&#21147;&#20363;-3">&#20837;&#21147;&#20363; 3<a class="anchor-link" href="#&#20837;&#21147;&#20363;-3"> </a></h3>
<pre><code>3 3
3 1 2
-1000 -2000 -3000</code></pre>
<h3 id="&#20986;&#21147;&#20363;-3">&#20986;&#21147;&#20363; 3<a class="anchor-link" href="#&#20986;&#21147;&#20363;-3"> </a></h3>
<pre><code>-1000</code></pre>
<p>最低 $1$ 回はコマを移動させる必要があります。</p>
<hr>
<h3 id="&#20837;&#21147;&#20363;-4">&#20837;&#21147;&#20363; 4<a class="anchor-link" href="#&#20837;&#21147;&#20363;-4"> </a></h3>
<pre><code>10 58
9 1 6 7 8 4 3 2 10 5
695279662 988782657 -119067776 382975538 -151885171 -177220596 -169777795 37619092 389386780 980092719</code></pre>
<h3 id="&#20986;&#21147;&#20363;-4">&#20986;&#21147;&#20363; 4<a class="anchor-link" href="#&#20986;&#21147;&#20363;-4"> </a></h3>
<pre><code>29507023469</code></pre>
<p>答えの絶対値は非常に大きくなる場合があります。</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%writefile</span> D/main.py
<span class="ch">#!/usr/bin/env python3</span>
<span class="kn">import</span> <span class="nn">sys</span>


<span class="k">def</span> <span class="nf">solve</span><span class="p">(</span><span class="n">N</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">K</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">P</span><span class="p">:</span> <span class="s2">&quot;List[int]&quot;</span><span class="p">,</span> <span class="n">C</span><span class="p">:</span> <span class="s2">&quot;List[int]&quot;</span><span class="p">):</span>
    <span class="k">return</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">def</span> <span class="nf">iterate_tokens</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdin</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">():</span>
                <span class="k">yield</span> <span class="n">word</span>
    <span class="n">tokens</span> <span class="o">=</span> <span class="n">iterate_tokens</span><span class="p">()</span>
    <span class="n">N</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">tokens</span><span class="p">))</span>  <span class="c1"># type: int</span>
    <span class="n">K</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">tokens</span><span class="p">))</span>  <span class="c1"># type: int</span>
    <span class="n">P</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">tokens</span><span class="p">))</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">)]</span>  <span class="c1"># type: &quot;List[int]&quot;</span>
    <span class="n">C</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">tokens</span><span class="p">))</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">)]</span>  <span class="c1"># type: &quot;List[int]&quot;</span>
    <span class="n">solve</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="n">K</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="n">C</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>atcoder-tools <span class="nb">test</span> -d D -e D/main.py
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>atcoder-tools submit -u -d D -e D/main.py
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="E---Picking-Goods">E - Picking Goods<a class="anchor-link" href="#E---Picking-Goods"> </a></h2><hr>
<p>配点 : $500$ 点</p>
<h3 id="&#21839;&#38988;&#25991;">&#21839;&#38988;&#25991;<a class="anchor-link" href="#&#21839;&#38988;&#25991;"> </a></h3><p>$R$ 行 $C$ 列に並んだマス目に $K$ 個のアイテムが置いてあります。$1 \leq i \leq R$ 行目、 $1 \leq j \leq C$ 列目のマスを $(i, j)$ と表すとき、$i$ 番目のアイテムはマス $(r_i, c_i)$ に存在し、その価値は $v_i$ です。</p>
<p>高橋君はマス $(1, 1)$ からスタートしてゴールのマス $(R, C)$ まで移動します。高橋君はマス $(i, j)$ にいるとき、次には (存在すれば) マス $(i + 1, j)$ またはマス $(i, j + 1)$ に移動することができます。</p>
<p>高橋君は通ったマス (スタートとゴールも含む) のアイテムを拾うことができます。ただし、マス目の同じ行では $3$ 個までしかアイテムを拾うことができません。通ったマスにアイテムがある場合に、そのアイテムを拾わないことはできます。</p>
<p>高橋君が拾うことのできるアイテムの価値の合計としてありうる値の最大値を求めてください。</p>
<h3 id="&#21046;&#32004;">&#21046;&#32004;<a class="anchor-link" href="#&#21046;&#32004;"> </a></h3><ul>
<li>$1 \leq R, C \leq 3000$</li>
<li>$1 \leq K \leq \min(2 \times 10^5, R \times C)$</li>
<li>$1 \leq r_i \leq R$</li>
<li>$1 \leq c_i \leq C$</li>
<li>$(r_i, c_i) \neq (r_j, c_j) (i \neq j)$</li>
<li>$1 \leq v_i \leq 10^9$</li>
<li>入力は全て整数である</li>
</ul>
<hr>
<h3 id="&#20837;&#21147;">&#20837;&#21147;<a class="anchor-link" href="#&#20837;&#21147;"> </a></h3><p>入力は以下の形式で標準入力から与えられる。</p>

<pre><code>$R$ $C$ $K$
$r_1$ $c_1$ $v_1$
$r_2$ $c_2$ $v_2$
$:$
$r_K$ $c_K$ $v_K$</code></pre>
<h3 id="&#20986;&#21147;">&#20986;&#21147;<a class="anchor-link" href="#&#20986;&#21147;"> </a></h3><p>高橋君が拾うことのできるアイテムの価値の合計としてありうる値の最大値を出力せよ。</p>
<hr>
<h3 id="&#20837;&#21147;&#20363;-1">&#20837;&#21147;&#20363; 1<a class="anchor-link" href="#&#20837;&#21147;&#20363;-1"> </a></h3>
<pre><code>2 2 3
1 1 3
2 1 4
1 2 5</code></pre>
<h3 id="&#20986;&#21147;&#20363;-1">&#20986;&#21147;&#20363; 1<a class="anchor-link" href="#&#20986;&#21147;&#20363;-1"> </a></h3>
<pre><code>8</code></pre>
<p>移動の方法は以下の $2$ 通りあります。</p>
<ul>
<li>マス $(1, 1)$ 、マス $(1, 2)$、マス $(2, 2)$ の順に移動する。このとき拾うことのできるアイテムの価値の合計は $3 + 5 = 8$ である。</li>
<li>マス $(1, 1)$ 、マス $(2, 1)$、マス $(2, 2)$ の順に移動する。このとき拾うことのできるアイテムの価値の合計は $3 + 4 = 7$ である。</li>
</ul>
<p>よって、高橋君が拾うことのできるアイテムの価値の合計としてありうる値の最大値は $8$ です。</p>
<hr>
<h3 id="&#20837;&#21147;&#20363;-2">&#20837;&#21147;&#20363; 2<a class="anchor-link" href="#&#20837;&#21147;&#20363;-2"> </a></h3>
<pre><code>2 5 5
1 1 3
2 4 20
1 2 1
1 3 4
1 4 2</code></pre>
<h3 id="&#20986;&#21147;&#20363;-2">&#20986;&#21147;&#20363; 2<a class="anchor-link" href="#&#20986;&#21147;&#20363;-2"> </a></h3>
<pre><code>29</code></pre>
<p>$1$ 行目にアイテムが $4$ 個あります。次のように移動してアイテムを拾う方法が最適です。</p>
<ul>
<li>マス $(1, 1)$ 、マス $(1, 2)$、マス $(1, 3)$、マス $(1, 4)$ 、マス $(2, 4)$、マス $(2, 5)$ の順に移動する。このうちマス $(1, 2)$ にあるアイテムのみ拾わないことにすると、アイテムの価値の合計は $3 + 4 + 2 + 20 = 29$ である。</li>
</ul>
<hr>
<h3 id="&#20837;&#21147;&#20363;-3">&#20837;&#21147;&#20363; 3<a class="anchor-link" href="#&#20837;&#21147;&#20363;-3"> </a></h3>
<pre><code>4 5 10
2 5 12
1 5 12
2 3 15
1 2 20
1 1 28
2 4 26
3 2 27
4 5 21
3 5 10
1 3 10</code></pre>
<h3 id="&#20986;&#21147;&#20363;-3">&#20986;&#21147;&#20363; 3<a class="anchor-link" href="#&#20986;&#21147;&#20363;-3"> </a></h3>
<pre><code>142</code></pre>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%writefile</span> E/main.py
<span class="ch">#!/usr/bin/env python3</span>
<span class="kn">import</span> <span class="nn">sys</span>


<span class="k">def</span> <span class="nf">solve</span><span class="p">(</span><span class="n">R</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">C</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">K</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">r</span><span class="p">:</span> <span class="s2">&quot;List[int]&quot;</span><span class="p">,</span> <span class="n">c</span><span class="p">:</span> <span class="s2">&quot;List[int]&quot;</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span> <span class="s2">&quot;List[int]&quot;</span><span class="p">):</span>
    <span class="k">return</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">def</span> <span class="nf">iterate_tokens</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdin</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">():</span>
                <span class="k">yield</span> <span class="n">word</span>
    <span class="n">tokens</span> <span class="o">=</span> <span class="n">iterate_tokens</span><span class="p">()</span>
    <span class="n">R</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">tokens</span><span class="p">))</span>  <span class="c1"># type: int</span>
    <span class="n">C</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">tokens</span><span class="p">))</span>  <span class="c1"># type: int</span>
    <span class="n">K</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">tokens</span><span class="p">))</span>  <span class="c1"># type: int</span>
    <span class="n">r</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">()]</span> <span class="o">*</span> <span class="p">(</span><span class="n">K</span><span class="p">)</span>  <span class="c1"># type: &quot;List[int]&quot;</span>
    <span class="n">c</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">()]</span> <span class="o">*</span> <span class="p">(</span><span class="n">K</span><span class="p">)</span>  <span class="c1"># type: &quot;List[int]&quot;</span>
    <span class="n">v</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">()]</span> <span class="o">*</span> <span class="p">(</span><span class="n">K</span><span class="p">)</span>  <span class="c1"># type: &quot;List[int]&quot;</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">K</span><span class="p">):</span>
        <span class="n">r</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">tokens</span><span class="p">))</span>
        <span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">tokens</span><span class="p">))</span>
        <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">tokens</span><span class="p">))</span>
    <span class="n">solve</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">C</span><span class="p">,</span> <span class="n">K</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>atcoder-tools <span class="nb">test</span> -d E -e E/main.py
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>atcoder-tools submit -u -d E -e E/main.py
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="F---Making-Palindrome">F - Making Palindrome<a class="anchor-link" href="#F---Making-Palindrome"> </a></h2><hr>
<p>配点 : $600$ 点</p>
<h3 id="&#21839;&#38988;&#25991;">&#21839;&#38988;&#25991;<a class="anchor-link" href="#&#21839;&#38988;&#25991;"> </a></h3><p>英小文字から成る $N$ 個の文字列 $S_1, S_2, \cdots, S_N$ があります。</p>
<p>高橋君はまずこれらの文字列から重複を許して合計 $1$ 個以上選んだ後、選んだ文字列を好きな順番で連結することで、回文であるような文字列を作ろうとしています。</p>
<p>文字列 $S_i$ を $1$ 個使うにはコストが $C_i$ かかり、同じ文字列であっても使った個数の分だけコストがかかります。</p>
<p>上述の方法で回文を作ることのできるように文字列を選ぶ方法のうち、コストの和としてありうる値の最小値を求めてください。</p>
<p>また、どのように選んでも回文を作ることが不可能である場合は $-1$ を出力してください。</p>
<h3 id="&#21046;&#32004;">&#21046;&#32004;<a class="anchor-link" href="#&#21046;&#32004;"> </a></h3><ul>
<li>$1 \leq N \leq 50$</li>
<li>$1 \leq |S_i| \leq 20$</li>
<li>$S_i$ は英小文字から成る</li>
<li>$1 \leq C_i \leq 10^9$</li>
</ul>
<hr>
<h3 id="&#20837;&#21147;">&#20837;&#21147;<a class="anchor-link" href="#&#20837;&#21147;"> </a></h3><p>入力は以下の形式で標準入力から与えられる。</p>

<pre><code>$N$
$S_1$ $C_1$
$S_2$ $C_2$
$:$
$S_N$ $C_N$</code></pre>
<h3 id="&#20986;&#21147;">&#20986;&#21147;<a class="anchor-link" href="#&#20986;&#21147;"> </a></h3><p>回文を作ることのできるように文字列を選ぶ方法のうち、コストの和としてありうる値の最小値を出力せよ。不可能である場合は $-1$ を出力せよ。</p>
<hr>
<h3 id="&#20837;&#21147;&#20363;-1">&#20837;&#21147;&#20363; 1<a class="anchor-link" href="#&#20837;&#21147;&#20363;-1"> </a></h3>
<pre><code>3
ba 3
abc 4
cbaa 5</code></pre>
<h3 id="&#20986;&#21147;&#20363;-1">&#20986;&#21147;&#20363; 1<a class="anchor-link" href="#&#20986;&#21147;&#20363;-1"> </a></h3>
<pre><code>7</code></pre>
<p><code>ba</code>, <code>abc</code>, <code>cbaa</code> があります。</p>
<p>例えば、<code>ba</code>, <code>abc</code> を $1$ 個ずつ使うとコストは $7$ で、<code>abc</code>, <code>ba</code> の順で連結すると回文になります。
また、<code>abc</code>, <code>cbaa</code> を $1$ 個ずつ使うとコストは $9$ で、<code>cbaa</code>, <code>abc</code> の順で連結すると回文になります。</p>
<p>コスト $7$ 未満で回文を作ることはできないので、$7$ を出力してください。</p>
<hr>
<h3 id="&#20837;&#21147;&#20363;-2">&#20837;&#21147;&#20363; 2<a class="anchor-link" href="#&#20837;&#21147;&#20363;-2"> </a></h3>
<pre><code>2
abcab 5
cba 3</code></pre>
<h3 id="&#20986;&#21147;&#20363;-2">&#20986;&#21147;&#20363; 2<a class="anchor-link" href="#&#20986;&#21147;&#20363;-2"> </a></h3>
<pre><code>11</code></pre>
<p><code>abcab</code> を $1$ 個、<code>cba</code> を $2$ 個選んで、<code>abcab</code>, <code>cba</code>, <code>cba</code> の順で連結すると回文になり、コストは $11$ です。</p>
<hr>
<h3 id="&#20837;&#21147;&#20363;-3">&#20837;&#21147;&#20363; 3<a class="anchor-link" href="#&#20837;&#21147;&#20363;-3"> </a></h3>
<pre><code>4
ab 5
cba 3
a 12
ab 10</code></pre>
<h3 id="&#20986;&#21147;&#20363;-3">&#20986;&#21147;&#20363; 3<a class="anchor-link" href="#&#20986;&#21147;&#20363;-3"> </a></h3>
<pre><code>8</code></pre>
<p><code>a</code> を $1$ 個だけ選んで回文とすることもできますが、<code>ab</code> と <code>cba</code> を選んで連結する方がコストが小さいです。</p>
<hr>
<h3 id="&#20837;&#21147;&#20363;-4">&#20837;&#21147;&#20363; 4<a class="anchor-link" href="#&#20837;&#21147;&#20363;-4"> </a></h3>
<pre><code>2
abc 1
ab 2</code></pre>
<h3 id="&#20986;&#21147;&#20363;-4">&#20986;&#21147;&#20363; 4<a class="anchor-link" href="#&#20986;&#21147;&#20363;-4"> </a></h3>
<pre><code>-1</code></pre>
<p>回文を作ることが不可能であるので、$-1$ を出力してください。</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%writefile</span> F/main.py
<span class="ch">#!/usr/bin/env python3</span>
<span class="kn">import</span> <span class="nn">sys</span>


<span class="k">def</span> <span class="nf">solve</span><span class="p">(</span><span class="n">N</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">S</span><span class="p">:</span> <span class="s2">&quot;List[str]&quot;</span><span class="p">,</span> <span class="n">C</span><span class="p">:</span> <span class="s2">&quot;List[int]&quot;</span><span class="p">):</span>
    <span class="k">return</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">def</span> <span class="nf">iterate_tokens</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdin</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">():</span>
                <span class="k">yield</span> <span class="n">word</span>
    <span class="n">tokens</span> <span class="o">=</span> <span class="n">iterate_tokens</span><span class="p">()</span>
    <span class="n">N</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">tokens</span><span class="p">))</span>  <span class="c1"># type: int</span>
    <span class="n">S</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">()]</span> <span class="o">*</span> <span class="p">(</span><span class="n">N</span><span class="p">)</span>  <span class="c1"># type: &quot;List[str]&quot;</span>
    <span class="n">C</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">()]</span> <span class="o">*</span> <span class="p">(</span><span class="n">N</span><span class="p">)</span>  <span class="c1"># type: &quot;List[int]&quot;</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">):</span>
        <span class="n">S</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span>
        <span class="n">C</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">tokens</span><span class="p">))</span>
    <span class="n">solve</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="n">S</span><span class="p">,</span> <span class="n">C</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>atcoder-tools <span class="nb">test</span> -d F -e F/main.py
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>atcoder-tools submit -u -d F -e F/main.py
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

</div>
 

